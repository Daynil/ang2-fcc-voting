{"version":3,"sources":["app.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA8CA;gBAIC,sBAAoB,WAAwB;oBAAxB,gBAAW,GAAX,WAAW,CAAa;oBAH5C,gBAAW,GAAG,QAAQ,CAAC;oBACvB,gBAAW,GAAgB,EAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;gBAET,CAAC;gBAEjD,+BAAQ,GAAR;oBACC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACzB,CAAC;gBAED,uCAAgB,GAAhB;oBAAA,iBAOC;oBANA,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;wBAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;oBAC9C,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE;yBACjC,IAAI,CAAC,UAAC,KAAkB;wBACxB,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,KAAI,CAAC,gBAAgB,EAAE,CAAC;oBACzB,CAAC,CAAC,CAAC;gBACL,CAAC;gBAED,uCAAgB,GAAhB;oBACC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC/B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;oBAC9B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;oBAC7B,CAAC;gBACF,CAAC;gBAED,oCAAa,GAAb;oBAAA,iBAEC;oBADA,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,gBAAgB,EAAE,EAAvB,CAAuB,CAAC,CAAC;gBAC3E,CAAC;gBAjEF;oBAAC,gBAAS,CAAC;wBACV,QAAQ,EAAE,QAAQ;wBAClB,SAAS,EAAE,CAAC,gBAAgB,CAAC;wBAC7B,QAAQ,EAAE,geAYT;wBACD,UAAU,EAAE,CAAC,wCAAa,EAAE,qCAAiB,CAAC;wBAC9C,SAAS,EAAE,CAAC,oCAAgB,EAAE,qBAAc,EAAE,0BAAW,EAAE,4BAAY,CAAC;qBACxE,CAAC;oBACD,+BAAW,CAAC;wBACZ;4BACC,IAAI,EAAE,GAAG;4BACT,IAAI,EAAE,eAAe;4BACrB,SAAS,EAAE,wCAAa;yBACxB;wBACD;4BACC,IAAI,EAAE,WAAW;4BACjB,IAAI,EAAE,SAAS;4BACf,SAAS,EAAE,4BAAO;yBAClB;wBACD;4BACC,IAAI,EAAE,aAAa;4BACnB,IAAI,EAAE,WAAW;4BACjB,SAAS,EAAE,gCAAS;yBACpB;qBACD,CAAC;;gCAAA;gBA+BF,mBAAC;YAAD,CA9BA,AA8BC,IAAA;YA9BD,uCA8BC,CAAA","file":"app.component.js","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\r\nimport {Http, HTTP_PROVIDERS} from '@angular/http';\r\nimport {PollContainer} from \"./poll-container.component\";\r\nimport {NewPoll} from \"./new-poll.component\";\r\nimport {AfterAuth} from \"./after-auth.component\";\r\nimport {AuthService} from \"./auth.service\";\r\nimport {PollsService} from \"./polls.service\";\r\nimport {User, Credentials} from \"./User\";\r\n\r\n@Component({\r\n\tselector: 'my-app',\r\n\tstyleUrls: ['../css/app.css'],\r\n\ttemplate: `\r\n\t\t<div id=\"wrapper\">\r\n\t\t\t<div id=\"header\">\r\n\t\t\t\t<h1>FCC Voting App</h1>\r\n\t\t\t\t<div id=\"menu\">\r\n\t\t\t\t\t<a [routerLink]=\"['PollContainer']\"><div class=\"button\">Home</div></a>\r\n\t\t\t\t\t<a [routerLink]=\"['NewPoll']\"><div class=\"button\" *ngIf=credentials.loggedIn>New Poll</div></a>\r\n\t\t\t\t\t<div class=\"button\" (click)=\"handleLogging()\">{{loginButton}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<router-outlet></router-outlet>\r\n\t\t</div>\r\n\t`,\r\n\tdirectives: [PollContainer, ROUTER_DIRECTIVES],\r\n\tproviders: [ROUTER_PROVIDERS, HTTP_PROVIDERS, AuthService, PollsService]\r\n})\r\n@RouteConfig([\r\n\t{\r\n\t\tpath: '/',\r\n\t\tname: 'PollContainer',\r\n\t\tcomponent: PollContainer\r\n\t},\r\n\t{\r\n\t\tpath: '/new-poll',\r\n\t\tname: 'NewPoll',\r\n\t\tcomponent: NewPoll\r\n\t},\r\n\t{\r\n\t\tpath: '/after-auth',\r\n\t\tname: 'AfterAuth',\r\n\t\tcomponent: AfterAuth\r\n\t}\r\n])\r\nexport class AppComponent implements OnInit {\r\n\tloginButton = 'Log In';\r\n\tcredentials: Credentials = {loggedIn: false, user: null};\r\n\t\r\n\tconstructor(private authService: AuthService) {\t}\r\n\t\r\n\tngOnInit() {\r\n\t\tthis.checkLoggedState();\r\n\t}\r\n\r\n\tcheckLoggedState() {\r\n\t\tif (this.credentials) this.checkLoginButton();\r\n\t\tthis.authService.checkLoggedState()\r\n\t\t\t.then((creds: Credentials) => {\r\n\t\t\t\tthis.credentials = creds;\r\n\t\t\t\tthis.checkLoginButton();\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tcheckLoginButton() {\r\n\t\tif (this.credentials.loggedIn) {\r\n\t\t\tthis.loginButton = 'Log Out';\r\n\t\t} else {\r\n\t\t\tthis.loginButton = 'Log In';\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleLogging() {\r\n\t\tthis.authService.handleAuthLogging().then(res => this.checkLoggedState());\r\n\t}\r\n}"]}