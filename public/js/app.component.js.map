{"version":3,"sources":["app.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA6CA;gBAGC,sBAAoB,WAAwB;oBAAxB,gBAAW,GAAX,WAAW,CAAa;oBAF5C,gBAAW,GAAG,QAAQ,CAAC;gBAEyB,CAAC;gBAEjD,+BAAQ,GAAR;oBACC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACzB,CAAC;gBAED,uCAAgB,GAAhB;oBAAA,iBAWC;oBAVA,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE;yBACjC,IAAI,CAAC,UAAC,IAAI;wBACV,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;wBAC/B,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;4BAChB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;4BAC1B,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC;wBAC9B,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACP,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;wBAC7B,CAAC;oBACF,CAAC,CAAC,CAAC;gBACL,CAAC;gBAED,oCAAa,GAAb;oBAAA,iBAEC;oBADA,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,gBAAgB,EAAE,EAAvB,CAAuB,CAAC,CAAC;gBAC3E,CAAC;gBA5DF;oBAAC,gBAAS,CAAC;wBACV,QAAQ,EAAE,QAAQ;wBAClB,SAAS,EAAE,CAAC,gBAAgB,CAAC;wBAC7B,QAAQ,EAAE,qcAYT;wBACD,UAAU,EAAE,CAAC,wCAAa,EAAE,qCAAiB,CAAC;wBAC9C,SAAS,EAAE,CAAC,oCAAgB,EAAE,qBAAc,EAAE,0BAAW,EAAE,4BAAY,CAAC;qBACxE,CAAC;oBACD,+BAAW,CAAC;wBACZ;4BACC,IAAI,EAAE,GAAG;4BACT,IAAI,EAAE,eAAe;4BACrB,SAAS,EAAE,wCAAa;yBACxB;wBACD;4BACC,IAAI,EAAE,WAAW;4BACjB,IAAI,EAAE,SAAS;4BACf,SAAS,EAAE,4BAAO;yBAClB;wBACD;4BACC,IAAI,EAAE,aAAa;4BACnB,IAAI,EAAE,WAAW;4BACjB,SAAS,EAAE,gCAAS;yBACpB;qBACD,CAAC;;gCAAA;gBA0BF,mBAAC;YAAD,CAzBA,AAyBC,IAAA;YAzBD,uCAyBC,CAAA","file":"app.component.js","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\r\nimport {Http, HTTP_PROVIDERS} from '@angular/http';\r\nimport {PollContainer} from \"./poll-container.component\";\r\nimport {NewPoll} from \"./new-poll.component\";\r\nimport {AfterAuth} from \"./after-auth.component\";\r\nimport {AuthService} from \"./auth.service\";\r\nimport {PollsService} from \"./polls.service\";\r\n\r\n@Component({\r\n\tselector: 'my-app',\r\n\tstyleUrls: ['../css/app.css'],\r\n\ttemplate: `\r\n\t\t<div id=\"wrapper\">\r\n\t\t\t<div id=\"header\">\r\n\t\t\t\t<h1>FCC Voting App</h1>\r\n\t\t\t\t<div id=\"menu\">\r\n\t\t\t\t\t<a [routerLink]=\"['PollContainer']\"><div class=\"button\">Home</div></a>\r\n\t\t\t\t\t<a [routerLink]=\"['NewPoll']\"><div class=\"button\">New Poll</div></a>\r\n\t\t\t\t\t<div class=\"button\" (click)=\"handleLogging()\">{{loginButton}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<router-outlet></router-outlet>\r\n\t\t</div>\r\n\t`,\r\n\tdirectives: [PollContainer, ROUTER_DIRECTIVES],\r\n\tproviders: [ROUTER_PROVIDERS, HTTP_PROVIDERS, AuthService, PollsService]\r\n})\r\n@RouteConfig([\r\n\t{\r\n\t\tpath: '/',\r\n\t\tname: 'PollContainer',\r\n\t\tcomponent: PollContainer\r\n\t},\r\n\t{\r\n\t\tpath: '/new-poll',\r\n\t\tname: 'NewPoll',\r\n\t\tcomponent: NewPoll\r\n\t},\r\n\t{\r\n\t\tpath: '/after-auth',\r\n\t\tname: 'AfterAuth',\r\n\t\tcomponent: AfterAuth\r\n\t}\r\n])\r\nexport class AppComponent implements OnInit {\r\n\tloginButton = 'Log In';\r\n\t\r\n\tconstructor(private authService: AuthService) {\t}\r\n\t\r\n\tngOnInit() {\r\n\t\tthis.checkLoggedState();\r\n\t}\r\n\r\n\tcheckLoggedState() {\r\n\t\tthis.authService.checkLoggedState()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet isLoggedIn = data.loggedIn;\r\n\t\t\t\tif (isLoggedIn) {\r\n\t\t\t\t\tconsole.log('logged in!');\r\n\t\t\t\t\tthis.loginButton = 'Log Out';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loginButton = 'Log In';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\thandleLogging() {\r\n\t\tthis.authService.handleAuthLogging().then(res => this.checkLoggedState());\r\n\t}\r\n}"]}